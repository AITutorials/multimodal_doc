## 项目背景

### 项目背景概述

* 在当前人们的娱乐生活中，抖音，快手，视频号等短视频应用充当着非常重要的角色，也衍生出巨大的商业价值。而这些产品中的核心技术都是基于个性化推荐系统，这个推荐系统又是怎样实现个性化推荐的呢？答案就是我们要讲的项目----多模态标签系统。              
  
图片: https://uploader.shimo.im/f/mN7MakCpuA2BetRj.png!thumbnail?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJhdWQiOiJhY2Nlc3NfcmVzb3VyY2UiLCJleHAiOjE2NDU2ODI4MzgsImciOiIyNXE1TVBEeGJEQ0xhV3FEIiwiaWF0IjoxNjQ1NjgyNTM4LCJ1c2VySWQiOjIxNzMzNTY4fQ.wctw7VVoFvMYjXJZBbxCukDqloQq6ZSoAv803kl5a5o


* 所谓模态，就是人类给计算机能够输入的形式以及状态，通常我们主要研究模态包括"3V": 即Verbal(文本)、Vocal(语音)、Visual(视觉)。因此多模态标签系统简单来说，就是通过我们采集到的各种视频相关模态，为其打上合适的标签，这些标签都是业务专家根据用户情况进行整理的。



### 项目内容

* 在推荐系统发展的早些年，标签化系统并不是使用多模态的技术，那时候针对视频打标签一般是通过视频的title文本描述以及相关的文本评论信息，因为处理文本使用的算力成本是比较容易接受的，而处理视频本身的内容是极其昂贵的。

* 随着近年来，大型模型技术（包括多模态模型）以及算力的迅速增长，我们才慢慢从仅仅利用title文本信息，到即使用文本又使用图像的多模态阶段。因此，在我们的项目中，我们会将内容分为两个重要的阶段：文本标签化和多模态标签化。

* 在文本标签化内容中，我们的任务将围绕：
	* 构建文本标签化主服务
	* 构建标签词汇图谱
	* 文本标签化模型的训练和部署
	* 标签系统服务的测试与上线

* 通过上面的内容，同学们需要实践整个标签化系统的各个重要组成部分，独立搭建起一个可以运行的标签服务，并对其中使用文本模型训练和部署流程熟练掌握。

* 在多模态标签化内容中，我们将着重讲解：
	* 多模态的发展和应用
	* 使用Resnet+GRU进行多模态处理
	* 使用VisualBERT进行多模态处理
	* 模态交互方式Co-Attention的优化改进

* 可以看出，在这一阶段，我们弱化了系统服务相关的知识（在第一阶段着重讲解），而是真正倾注在先进多模态模型的训练和优化，这将是企业应用和工程师岗位面试的重点。



### 项目所需技术

* 为了能够帮助我们更好的完成项目，需要同学们对以下的工具和知识有一定的掌握：
	* 所有的代码开发基于Python3
	* 模型框架选择主流的Huggingface
	* 模型框架代码选择Pytorch
	* 自然语言方面需要掌握GRU，Transformer等主流模型
	* 计算机视觉方面需要掌握Resnet等主流模型
	* 图数据（图谱）需要掌握Neo4j以及语言Cypher




## 项目需求文档

### 项目架构说明

图片: https://uploader.shimo.im/f/P1hkPqYNlvyAlZr5.png!thumbnail?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJhdWQiOiJhY2Nlc3NfcmVzb3VyY2UiLCJleHAiOjE2NDU2ODI4MzgsImciOiIyNXE1TVBEeGJEQ0xhV3FEIiwiaWF0IjoxNjQ1NjgyNTM4LCJ1c2VySWQiOjIxNzMzNTY4fQ.wctw7VVoFvMYjXJZBbxCukDqloQq6ZSoAv803kl5a5o


* 从上面的简图中可以看出我们项目的主要架构和流程，首先通过一定文本和视频预处理模块，这在工业生产环境中是必不可少的部分。然后就是通过我们产生标签的两个重要模块：图谱匹配和匹配歧义判断，它们分别需要借助预先构建的标签图谱以及训练好的多模态模型，这两部分也是我们项目的核心。



### 项目规划

* 我们的整个项目将分为七个任务：构建文本标签化主服务，构建标签词汇图谱，文本标签化模型的训练和部署，标签系统服务的测试与上线，使用Resnet+GRU进行多模态处理，使用VisualBERT进行多模态处理，模态交互方式Co-Attention的优化改进。每个项目大致一周的开发工作量。下面将逐个介绍这些任务的目的，所需工时以及简述。
，

#### 任务一：构建文本标签化主服务

* 目的：
	* 构建起文本化标签主服务，对外提供标签化API。

* 工时：
	* 1周

* 任务简述：
	* 为了更贴合工业项目的开发流程，我们将从系统主服务的构建开始，因此我们的第一个任务是：构建文本标签化主服务，它是一个基于Flask的主服务，有了它，我们将直接得到标签系统的对外API，此时，我们将完成各个模块的主要流程代码，但你可能还无法真正获取到标签，因为其中核心的图谱和模型还没有进行开发。



#### 任务二：构建标签词汇图谱

* 目的：
	* 根据业务制定的标签体系，构建起基于Neo4j的构建标签词汇图谱，以便完成图谱匹配。
* 工时：
	* 1周
* 任务简述：
	* 在该任务中，我们将开启对任务一结果（整体标签服务）的填充。我们需要离线构建图谱，它是一个基于Neo4j的图存储，有了它，我们将预处理后的文本进行图谱匹配，可以获得一部分没有歧义的标签。而对于有歧义的文本，我们将在任务三中构建模型处理。



#### 任务三：文本标签化模型的训练和部署

* 目的：
	* 使用文本模型进行歧义判断，确定文本指向的标签，并将其部署成模型子服务。
* 工时：
	* 1周

* 任务简述：
	* 在该任务中，我们开始构建文本分类模型，包括数据处理，特征处理，模型构建等，它是基于Fasttext结构的快速预测模型。有了它，我们将能够解决文本标签化中最棘手的歧义问题，并将这些模型封装成微服务。



#### 任务四：文本标签化服务的分布式集成

* 目的：
	* 对标签模型进行分布式训练，与之对应的服务进行并行部署，并集成文本标签化系统的各个模块，使得服务正常对外提供API。

* 工时：
	* 1周

* 任务简述：
	* 这是文本标签化系统的最后一步，完成各个模块的集成以及API的测试是工作中的重要里程碑，在这个过程中，我们将学习使用多进程训练以及多线程预测技术，至此将得到一个完整的文本标签化系统，它能够对文本进行打标签的工作。


#### 任务五：使用Resnet+GRU进行多模态处理

* 目的：
	* 构建起最基础的多模态处理模型Resnet+GRU，完成基于此的训练过程。

* 工时：
	* 1周

* 任务简述：
	* 在该任务中，我们开始使用多模态模型，最早期的多模态模型就是经典Resnet与GRU的结合，有了它，我们将能够综合利用图像信息（视频中的关键帧）和文本信息。


#### 任务六：使用VisualBERT进行多模态处理

* 目的：
	* 构建基于VisualBERT多模态模型，完成该模型的训练流程。

* 工时：
	* 1周

* 任务简述：
	* 在该任务中构建的VisualBERT，相当于R+G模型的升级，使用预训练+微调的范式解决实际问题，从数据，模型结构，工具使用多个角维度进行工业实践。


#### 任务七：模态交互方式Co-Attention的优化改进

* 目的：
	* 使用先进的互注意力机制替代原生模态交互方式，并对attention进行效率优化。

* 工时：
	* 1周

* 任务简述：
	* 在该任务中，我们关注VisualBERT的核心结构改进，针对模态交互部分的代码进行优化，使用主流的co-attention。有了它，我们将更好的提升模型效果，而针对它带来的效率下降，我们还有实现更多改进方案。


























